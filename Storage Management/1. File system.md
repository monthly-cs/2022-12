# File system

이 문서는 2022년 11월 30일에 @sumin-dev에 의해서 작성되었습니다.

```
1. 파일과 파일 시스템
    1.1. 파일이 뭐야?
    1.2. 파일 시스템이 뭐야?
    1.3. 파일 시스템의 종류
2. 리눅스의 파일 시스템
    2.1. 리눅스는 어떤 파일 시스템을 사용해?
    2.2. Linux Directory and Inode
    2.3. Link

```

## 1. 파일과 파일 시스템
### 1.1. 파일이 뭐야?
* techopedia에서 가져온 이해하기 쉬운 정의
```
A file is a container in a computer system for storing information. 
Files used in computers are similar in features to that of paper documents used in library and office files.
```
* **컴퓨터에서 의미가 있는 정보를 담은 논리적인 단위**. 데이터나 프로그램 등을 담는 그릇
* **실행파일**(exe)과 **데이터파일**(mp3, png)로 구분
    * 실행파일: 운영체제가 메모리로 가져와 CPU를 이용하여 작업하는 파일
    * 데이터파일: 실행파일이 작업하는 데 필요한 데이터를 모아놓은 파일

> #### 그렇다면 이 파일을 이용해 작업을 할 때!🤔
>    * *readme.md 파일을 생성하고 싶은데 하드 디스크의 몇 번째 주소가 빈 공간일까?*
>    * *사건의 지평선.mp3 파일을 재생해서 노래를 듣고 싶은데, 이 파일은 하드 디스크의 몇 번째 주소에 있지?*
> #### 파일 하나 사용하는데, 사용자가 알아야 할 정보가 너무 많다❗
### 1.2. 파일 시스템이 뭐야?
* techopedia에서 가져온 이해하기 쉬운 정의
```
A file system is a process that manages how and where data on a storage disk, 
typically a hard disk drive (HDD), is stored, accessed and managed.
```
* **파일을 효율적으로 관리하고 쉽게 사용하기 위한 시스템**
* 파일 시스템은 이 파일들을 관리할 정보가 필요 ▶ **메타데이터**(파일의 이름, 확장자, 권한 정보 등)

![image](https://user-images.githubusercontent.com/109029407/205246333-b4d87a4a-a4f3-4f00-98ef-87c839b194c1.png)

### 1.3. 파일 시스템의 종류
> * 조직 또는 상황마다 기능, 성능, 안정성 등 파일에 대해 중요하게 생각하는 설계 목표가 다름
> * 널리 사용되고 있는 운영체제들끼리도 다른 파일 시스템을 사용
#### Windows: FAT(FAT12/16/32, exFAT), NTFS
![image](https://user-images.githubusercontent.com/109029407/205249330-92a06307-135c-4e78-99ee-84911cf34057.png)

* **FAT(File Allocation Table) 12**: MS-DOS 초기부터 주로 쓰임. 플로피 디스크에서 사용. 
* **FAT16**: 윈도우 95까지 주로 이용. 파티션 하나로 최대 2GB 지원. 암호화나 압축 기능X
* **FAT32**: 오래되고 많이 사용되는 파일 시스템. 드라이브 최대 용량 32GB까지 지원. 파일 하나당 4GB까지 지원. 안정성이 좋고 다양한 OS, 기기에 대한 호환성이 좋음. 암호화나 압축 기능X
* **NTFS(New Technology File System)**: FAT32의 약점을 보완하기 위해 개발된 파일 시스템. 드라이브 최대 용량 256TB까지 지원. 파일 하나당 16TB까지 지원. 윈도우에는 최적화되어 있지만, MAC OS나 Linux에서 사용에 제한. 암호화나 압축 기능O

#### Linux: ext(ext2/3/4)
![image](https://user-images.githubusercontent.com/109029407/205249448-cfebf944-9ba5-46a6-8ce6-f24dcf0864f2.png)

* **EXT(Extended File System)1**: MFS의 보완을 위해 만들어짐. 최대 2GB 지원. 사용할수록 리스트가 뒤죽박죽되고 파일시스템이 조각화됨
* **EXT2**: 기존 EXT 보완. 타임 스탬프를 지원하며 확장이 쉬움. 최대 32TB 지원.
* **EXT3**: 온라인 조각모음 프로그램, 저널링 등 다양한 기능 추가
* **EXT4**: 최대 16TB 지원. 저널 체크섬 기능 추가로 파일 시스템 손상 가능성이 줄어듦.

#### Unix-Like: UFS
#### Mac OS: HFS(Hierarchical File System), HFS+
![image](https://user-images.githubusercontent.com/109029407/205249390-45caa841-a106-41de-bedc-92bd8e94f826.png)

#### Solaris: ZFS
#### Google: GFS

## 2. 리눅스의 파일 시스템
### 2.1. 리눅스는 어떤 파일 시스템을 사용해?
* 1991년 9월 17일 리누스 토르발스가 Minix라는 교육용 운영체제가 마음에 들지 않아 직접 만들기 시작.
* 토르발스는 **Minix 플랫폼에서 리눅스 개발**을 했고, Minix와 데이터 교환을 쉽게 하고 싶었음.
* Minix 호환이 가능한 파일 시스템을 개발했고, 이 파일시스템의 이름은 **Minix 파일 시스템을 확장**했다는 의미인 **Extended file system(extfs)**.
![image](https://user-images.githubusercontent.com/109029407/205252736-0fa48668-54a7-48e7-bd53-4439c634604b.png)
![image](https://user-images.githubusercontent.com/109029407/205252202-ae22f0cf-15b7-49bc-8b22-f362c1170c3e.png)

### 2.2. Linux Directory and Inode
> * 리눅스 디렉토리는 파일을 편리하게 관리하기 위한 도구
> * 파일 시스템 입장에서는, 디렉토리도 파일이다

* **디렉토리의 구조: Tree 구조**
![image](https://user-images.githubusercontent.com/109029407/205253562-9662d8c8-e7e4-4b19-98be-40ad54f5cb37.png)

* **디렉토리 엔트리: 디렉토리를 표현하는 자료구조**
    * Linux 기준에서 File name + Inode를 가르키는 포인터
    * Inode란? 파일 이름을 제외한 파일의 메타데이터

### 2.3. Link
* 서로 다른 디렉토리에서 같은 파일을 접근하는 방법
>    * Symbolic Link(Soft Link): 포인터(파일의 경로)만 링크
>   * Hard Link: 원본 파일과 내용이 동일하지만 이름(경로)만 다른 파일
![image](https://user-images.githubusercontent.com/109029407/205254933-0155fb6c-cdeb-435a-bce9-09671d5b25c2.png)




